VGS_5, VGS_6, VGS_7, VGS_8, VGS_9)
#Elimino ora i missing
data.medie.vgs<-na.omit(data.medie.vgs)
#Esempio con le pipe
data.gen.sup.vg.pipe<- data.gen.sup %>%
filter(VG_DIC==1) %>%
select(VGS_1, VGS_1,VGS_2, VGS_3, VGS_4,
VGS_5, VGS_6, VGS_7, VGS_8, VGS_9)
#Esempio di più operazioni sui un database senza pipe
#Seleziono solo gli item della VGS
data.medie.vgs<-select(data.medie,
VGS_1, VGS_1,VGS_2, VGS_3, VGS_4,
VGS_5, VGS_6, VGS_7, VGS_8, VGS_9)
#Elimino ora i missing
data.medie.vgs<-na.omit(data.medie.vgs)
#Esempio con le pipe
data.medie.vgs.pipe<- data.medie %>%
select(VGS_1,VGS_1,VGS_2,VGS_3,VGS_4,VGS_5,VGS_6,VGS_7,VGS_8,VGS_9) %>%
na.omit()
data.medie <- read_sav("C:/Users/franc/OneDrive/Desktop/Formazione R/Ragazzi e genitori_medie.sav")
#Carico i dati
library(haven)
#Carico i dati
library(haven)
data.medie <- read_sav("C:/Users/franc/OneDrive/Desktop/Formazione R/Ragazzi e genitori_medie.sav")
#Carico le librerie
library(tidyverse)
library(lavaan)
#Carico i dati
data.medie<- read_sav("C:/Users/franc/OneDrive/Desktop/Formazione R/Ragazzi e genitori_medie.sav")
data.medie.vgs<-data.medie %>%
select(VGS_1,VGS_2, VGS_3, VGS_4, VGS_5, VGS_6, VGS_7, VGS_8, VGS_9)
data.medie.m16<-data.medie %>%
filter(SESSO==1 & ETA_ANNI>=12)
data.medie.m16<-data.medie %>%
filter(SESSO=="Maschio" & ETA_ANNI>=12)
data.medie.m16<-data.medie %>%
filter(SESSO==1 & ETA_ANNI>=12)
data.medie<-data.medie %>%
mutate(MVS_TOT = MVS_1+MVS_2+MVS_3+MVS_4+MVS_5+MVS_6+MVS_7+MVS_8,
VGS_TOT = VGS_1, VGS_2, VGS_3, VGS_4, VGS_5, VGS_6, VGS_7, VGS_8, VGS_9)
5**2
sqrt(16)
data.medie<-data.medie %>%
mutate(MVS_TOT = MVS_1+MVS_2+MVS_3+MVS_4+MVS_5+MVS_6+MVS_7+MVS_8,
VGS_TOT = VGS_1+VGS_2+VGS_3+VGS_4+VGS_5+VGS_6+VGS_7+VGS_8+VGS_9)
49/7
5*2
5**2
sqrt(49)
5//2
data.medie<-data.medie %>%
mutate(MVS_TOT = MVS_1+MVS_2+MVS_3+MVS_4+MVS_5+MVS_6+MVS_7+MVS_8+MVS_9)
data.medie.mppus <- data.medie %>%
select(MPPUS_1,MPPUS_2, MPPUS_3, MPPUS_4, MPPUS_5,
MPPUS_6, MPPUS_7, MPPUS_8, MPPUS_9, MPPUS_10) %>%
na.omit()
library(lavaan)
library(semPlot)
?efa
efa.mppus<-efa(data=data.medie.mppus, nfactors = 1:3, rotation = 'oblimin')
summary(efa.mppus)
model.cfa.mppus<-'
#Fattori (fattori latenti =~ variabili osservate)
MPPUS_NEG_CONS =~ MPPUS_5+MPPUS_6+MPPUS_7+MPPUS_9+MPPUS_10
MPPUS_DEP =~ MPPUS_1+MPPUS_2+MPPUS_3+MPPUS_4+MPPUS_8
#Correlazioni tra fattori
MPPUS_NEG_CONS~~MPPUS_DEP'
cfa.mppus<-cfa(data = data.medie.mppus, model = model.cfa.mppus)
summary(cfa.mppus, fit.measures = TRUE, standardized = TRUE)
data.rli <- data.medie %>%
select(RLI_1, RLI_2, RLI_3, RLI_4, RLI_5) %>%
na.omit()
data.rli <- data.medie %>%
select(RLI_1, RLI_2, RLI_3, RLI_4, RLI_5) %>%
na.omit()
#EFA
efa.rli<-efa(data = data.rli, nfactors = 1:2)
summary(efa.rli)
model.rli<-'
RLI=~RLI_1+RLI_2+RLI_3+RLI_48RLI_5
'
#CFA
model.rli<-'
RLI=~RLI_1+RLI_2+RLI_3+RLI_48RLI_5
'
efa.rli<-cfa(data = data.rli, model=model.rli)
summary(cfa.rli)
#CFA
model.rli<-'
RLI=~RLI_1+RLI_2+RLI_3+RLI_4+RLI_5
'
efa.rli<-cfa(data = data.rli, model=model.rli)
summary(cfa.rli)
model.rli<-'
RLI=~RLI_1+RLI_2+RLI_3+RLI_4+RLI_5
'
cfa.rli<-cfa(data = data.rli, model=model.rli)
summary(cfa.rli)
cfa.rli<-cfa(data = data.rli, model=model.rli)
summary(cfa.rli, fit.measures = TRUE, standardized = TRUE)
library(haven)
Serra24 <- read_sav("C:/Users/franc/OneDrive/Desktop/RLI_Svezia/Serra24_Superiori_1e2eGen_04.04.24.sav")
View(Serra24_Superiori_1e2eGen_04_04_24)
library(tidyverse)
Serra24<-Serra24 %>%
select(
SESSO, ETA_ANNI, LB_CONOSCENZA, LB_ETA, LB_APERTURA, LB_TEMPO, LB_ORE_GIORNO, LB_ACQUISTO,
LB_SPESA, LB_VENDITA, LB_PROFITTI, LBUSOTOT,
RLI_1, RLI_2,RLI_3, RLI_4, RLI_5,
VG_TOT_FREQ, VG_VERSTATILITA, VGS_TOT_PES, VGS_TOT_CAT
)
PRIZE <- read_sav("C:/Users/franc/OneDrive/Desktop/RLI_Svezia/PREPOSTFU_19_09.sav")
PRIZE <- read_sav("C:/Users/franc/OneDrive/Desktop/RLI_Svezia/PREPOSTFU_19_09.sav")
PRIZE <- PRIZE %>%
select(
Sesso, ETA_ANNI_POST, LB_CONOSCENZA_DIC, LB_ETA, LB_APERTURA_DIC, LB_TEMPO_DIC, LB_ORE, LB_ACQUIS_DIC,
LB_ACQUISTO_SPESA, LB_VENDITA, LB_PROF_DIC, LB_USO_TOT,
RLI_1, RLI_2,RLI_3, RLI_4, RLI_5,
VG_FREQ_POST, VG_VERSATILITA, VGS_TOT_PES, VGS_CAT
)
#-------------------------
PISTOIA <- read_sav("C:/Users/franc/OneDrive/Desktop/RLI_Svezia/Pistoia_tech_31-01_Senza outlier.sav")
View(PISTOIA)
library(haven)
library(tidyverse)
Serra24 <- read_sav("C:/Users/franc/OneDrive/Desktop/RLI_Svezia/Serra24_Superiori_1e2eGen_04.04.24.sav")
View(Serra24_Superiori_1e2eGen_04_04_24)
#----------------------
Serra24<-Serra24 %>%
select(
SESSO, ETA_ANNI, LB_CONOSCENZA, LB_ETA, LB_APERTURA, LB_TEMPO, LB_ORE_GIORNO, LB_ACQUISTO,
LB_SPESA, LB_VENDITA, LB_PROFITTI, LBUSOTOT,
RLI_1, RLI_2,RLI_3, RLI_4, RLI_5,
VG_TOT_FREQ, VG_VERSTATILITA, VGS_TOT_PES, VGS_TOT_CAT
)%>%
mutate(PROV= 'SERRA')
#--------------------
PRIZE <- read_sav("C:/Users/franc/OneDrive/Desktop/RLI_Svezia/PREPOSTFU_19_09.sav")
PRIZE <- PRIZE %>%
select(
Sesso, ETA_ANNI_POST, LB_CONOSCENZA_DIC, LB_ETA, LB_APERTURA_DIC, LB_TEMPO_DIC, LB_ORE, LB_ACQUIS_DIC,
LB_ACQUISTO_SPESA, LB_VENDITA, LB_PROF_DIC, LB_USO_TOT,
RLI_1, RLI_2,RLI_3, RLI_4, RLI_5,
VG_FREQ_POST, VG_VERSATILITA, VGS_TOT_PES, VGS_CAT
) %>%
mutate(PROV= 'PRIZE')
#-------------------------
PISTOIA <- read_sav("C:/Users/franc/OneDrive/Desktop/RLI_Svezia/Pistoia_tech_31-01_Senza outlier.sav")
PISTOIA<-PISTOIA %>%
mutate(
RLI_1= ifelse(RLI_1>=1, 1, 0),
RLI_2= ifelse(RLI_2>=1, 1, 0),
RLI_3= ifelse(RLI_3>=1, 1, 0),
RLI_4= ifelse(RLI_4>=1, 1, 0),
RLI_5= ifelse(RLI_5>=1, 1, 0),
) %>%
select(
Genere, Età_anni, LB_1, LB_Età, LB_2, LB_3, LB_ore, LB_4, LB_SOLDI, LB_5, LB_6,
RLI_1, RLI_2, RLI_3, RLI_4, RLI_5,
VG_FREQ, VERSATILITA_VG, GAS_DIC_TOT, GAS_CAT
) %>%
mutate(
PROV= 'PISTOIA'
)
PISTOIA<-PISTOIA %>%
mutate(
RLI_1= ifelse(RLI_1>=1, 1, 0),
RLI_2= ifelse(RLI_2>=1, 1, 0),
RLI_3= ifelse(RLI_3>=1, 1, 0),
RLI_4= ifelse(RLI_4>=1, 1, 0),
RLI_5= ifelse(RLI_5>=1, 1, 0),
) %>%
select(
Genere, Età_anni, LB_1, LB_Età, LB_2, LB_3, LB_ore, LB_4, LB_SOLDI, LB_5, LB_6,
RLI_1, RLI_2, RLI_3, RLI_4, RLI_5,
VG_FREQ, VERSATILITA_VG, GAS_DIC_TOT, GAS_CAT
) %>%
mutate(
PROV= 'PISTOIA'
)
library(haven)
library(tidyverse)
Serra24 <- read_sav("C:/Users/franc/OneDrive/Desktop/RLI_Svezia/Serra24_Superiori_1e2eGen_04.04.24.sav")
View(Serra24_Superiori_1e2eGen_04_04_24)
#----------------------
Serra24<-Serra24 %>%
select(
SESSO, ETA_ANNI, LB_CONOSCENZA, LB_ETA, LB_APERTURA, LB_TEMPO, LB_ORE_GIORNO, LB_ACQUISTO,
LB_SPESA, LB_VENDITA, LB_PROFITTI,
RLI_1, RLI_2,RLI_3, RLI_4, RLI_5,
VG_TOT_FREQ, VG_VERSTATILITA, VGS_TOT_PES, VGS_TOT_CAT
)%>%
mutate(PROV= 'SERRA')
#--------------------
PRIZE <- read_sav("C:/Users/franc/OneDrive/Desktop/RLI_Svezia/PREPOSTFU_19_09.sav")
PRIZE <- PRIZE %>%
select(
Sesso, ETA_ANNI_POST, LB_CONOSCENZA_DIC, LB_ETA, LB_APERTURA_DIC, LB_TEMPO_DIC, LB_ORE, LB_ACQUIS_DIC,
LB_ACQUISTO_SPESA, LB_VENDITA, LB_PROF_DIC,
RLI_1, RLI_2,RLI_3, RLI_4, RLI_5,
VG_FREQ_POST, VG_VERSATILITA, VGS_TOT_PES, VGS_CAT
) %>%
mutate(PROV= 'PRIZE')
#-------------------------
PISTOIA <- read_sav("C:/Users/franc/OneDrive/Desktop/RLI_Svezia/Pistoia_tech_31-01_Senza outlier.sav")
PISTOIA<-PISTOIA %>%
mutate(
RLI_1= ifelse(RLI_1>=1, 1, 0),
RLI_2= ifelse(RLI_2>=1, 1, 0),
RLI_3= ifelse(RLI_3>=1, 1, 0),
RLI_4= ifelse(RLI_4>=1, 1, 0),
RLI_5= ifelse(RLI_5>=1, 1, 0),
) %>%
select(
Genere, Età_anni, LB_1, LB_Età, LB_2, LB_3, LB_ore, LB_4, LB_SOLDI, LB_5, LB_6,
RLI_1, RLI_2, RLI_3, RLI_4, RLI_5,
VG_FREQ, VERSATILITA_VG, GAS_DIC_TOT, GAS_CAT
) %>%
mutate(
PROV= 'PISTOIA'
)
data.tot<-bind_rows(Serra24, PRIZE, PISTOIA)
#--------------------
PRIZE <- read_sav("C:/Users/franc/OneDrive/Desktop/RLI_Svezia/PREPOSTFU_19_09.sav")
PRIZE <- PRIZE %>%
filter(VG_DIC==1)
select(
Sesso, ETA_ANNI_POST, LB_CONOSCENZA_DIC, LB_ETA, LB_APERTURA_DIC, LB_TEMPO_DIC, LB_ORE, LB_ACQUIS_DIC,
LB_ACQUISTO_SPESA, LB_VENDITA, LB_PROF_DIC,
RLI_1, RLI_2,RLI_3, RLI_4, RLI_5,
VG_FREQ_POST, VG_VERSATILITA, VGS_TOT_PES, VGS_CAT
) %>%
mutate(PROV= 'PRIZE')
PRIZE <- PRIZE %>%
filter(VG_DIC==1) %>%
select(
Sesso, ETA_ANNI_POST, LB_CONOSCENZA_DIC, LB_ETA, LB_APERTURA_DIC, LB_TEMPO_DIC, LB_ORE, LB_ACQUIS_DIC,
LB_ACQUISTO_SPESA, LB_VENDITA, LB_PROF_DIC,
RLI_1, RLI_2,RLI_3, RLI_4, RLI_5,
VG_FREQ_POST, VG_VERSATILITA, VGS_TOT_PES, VGS_CAT
) %>%
mutate(PROV= 'PRIZE')
library(haven)
library(tidyverse)
Serra24 <- read_sav("C:/Users/franc/OneDrive/Desktop/RLI_Svezia/Serra24_Superiori_1e2eGen_04.04.24.sav")
View(Serra24_Superiori_1e2eGen_04_04_24)
#----------------------
Serra24<-Serra24 %>%
select(
SESSO, ETA_ANNI, LB_CONOSCENZA, LB_ETA, LB_APERTURA, LB_TEMPO, LB_ORE_GIORNO, LB_ACQUISTO,
LB_SPESA, LB_VENDITA, LB_PROFITTI,
RLI_1, RLI_2,RLI_3, RLI_4, RLI_5,
VG_TOT_FREQ, VG_VERSTATILITA, VGS_TOT_PES, VGS_TOT_CAT
)%>%
mutate(PROV= 'SERRA')
#--------------------
PRIZE <- read_sav("C:/Users/franc/OneDrive/Desktop/RLI_Svezia/PREPOSTFU_19_09.sav")
PRIZE <- PRIZE %>%
filter(VG_DIC==1) %>%
select(
Sesso, ETA_ANNI_POST, LB_CONOSCENZA_DIC, LB_ETA, LB_APERTURA_DIC, LB_TEMPO_DIC, LB_ORE, LB_ACQUIS_DIC,
LB_ACQUISTO_SPESA, LB_VENDITA, LB_PROF_DIC,
RLI_1, RLI_2,RLI_3, RLI_4, RLI_5,
VG_FREQ_POST, VG_VERSATILITA, VGS_TOT_PES, VGS_CAT
) %>%
mutate(PROV= 'PRIZE')
#-------------------------
PISTOIA <- read_sav("C:/Users/franc/OneDrive/Desktop/RLI_Svezia/Pistoia_tech_31-01_Senza outlier.sav")
PISTOIA<-PISTOIA %>%
mutate(
RLI_1= ifelse(RLI_1>=1, 1, 0),
RLI_2= ifelse(RLI_2>=1, 1, 0),
RLI_3= ifelse(RLI_3>=1, 1, 0),
RLI_4= ifelse(RLI_4>=1, 1, 0),
RLI_5= ifelse(RLI_5>=1, 1, 0),
) %>%
select(
Genere, Età_anni, LB_1, LB_Età, LB_2, LB_3, LB_ore, LB_4, LB_SOLDI, LB_5, LB_6,
RLI_1, RLI_2, RLI_3, RLI_4, RLI_5,
VG_FREQ, VERSATILITA_VG, GAS_DIC_TOT, GAS_CAT
) %>%
mutate(
PROV= 'PISTOIA'
)
#----
data.tot<-bind_rows(Serra24, PRIZE, PISTOIA)
write_sav(data.tot, "DATIRLI_TOT.sav")
library(writexl)
write_xlsx(data.tot, "DATIRLI_TOT.xlsx")
library(haven)
library(tidyverse)
Serra24 <- read_sav("C:/Users/franc/OneDrive/Desktop/RLI_Svezia/Serra24_Superiori_1e2eGen_04.04.24.sav")
View(Serra24_Superiori_1e2eGen_04_04_24)
#----------------------
Serra24<-Serra24 %>%
select(
SESSO, ETA_ANNI, LB_CONOSCENZA, LB_ETA, LB_APERTURA, LB_TEMPO, LB_ORE_GIORNO, LB_ACQUISTO,
LB_SPESA, LB_VENDITA, LB_PROFITTI,
RLI_1, RLI_2,RLI_3, RLI_4, RLI_5,
VG_TOT_FREQ, VG_VERSTATILITA, VGS_TOT_PES, VGS_TOT_CAT
)%>%
mutate(PROV= 'SERRA')
#--------------------
PRIZE <- read_sav("C:/Users/franc/OneDrive/Desktop/RLI_Svezia/PREPOSTFU_19_09.sav")
PRIZE <- PRIZE %>%
filter(VG_DIC==1) %>%
select(
Sesso, ETA_ANNI_POST, LB_CONOSCENZA_DIC, LB_ETA, LB_APERTURA_DIC, LB_TEMPO_DIC, LB_ORE, LB_ACQUIS_DIC,
LB_ACQUISTO_SPESA, LB_VENDITA, LB_PROF_DIC,
RLI_1, RLI_2,RLI_3, RLI_4, RLI_5,
VG_FREQ_POST, VG_VERSATILITA, VGS_TOT_PES, VGS_CAT
) %>%
mutate(PROV= 'PRIZE')
#-------------------------
PISTOIA <- read_sav("C:/Users/franc/OneDrive/Desktop/RLI_Svezia/Pistoia_tech_31-01_Senza outlier.sav")
PISTOIA<-PISTOIA %>%
mutate(
RLI_1= ifelse(RLI_1>=1, 1, 0),
RLI_2= ifelse(RLI_2>=1, 1, 0),
RLI_3= ifelse(RLI_3>=1, 1, 0),
RLI_4= ifelse(RLI_4>=1, 1, 0),
RLI_5= ifelse(RLI_5>=1, 1, 0),
) %>%
select(
Genere, Età_anni, LB_1, LB_Età, LB_2, LB_3, LB_ore, LB_4, LB_SOLDI, LB_5, LB_6,
RLI_1, RLI_2, RLI_3, RLI_4, RLI_5,
VG_FREQ, VERSATILITA_VG, GAS_DIC_TOT, GAS_CAT
) %>%
mutate(
PROV= 'PISTOIA'
)
#----
data.tot<-bind_rows(Serra24, PRIZE, PISTOIA)
View(data.tot)
data.tot<-rbind(Serra24, PRIZE, PISTOIA)
data.tot<-rbind(Serra24, PRIZE, PISTOIA, deparse.level = 1)
library(haven)
library(tidyverse)
# Carichiamo i file .sav
Serra24 <- read_sav("C:/Users/franc/OneDrive/Desktop/RLI_Svezia/Serra24_Superiori_1e2eGen_04.04.24.sav")
PRIZE <- read_sav("C:/Users/franc/OneDrive/Desktop/RLI_Svezia/PREPOSTFU_19_09.sav")
PISTOIA <- read_sav("C:/Users/franc/OneDrive/Desktop/RLI_Svezia/Pistoia_tech_31-01_Senza outlier.sav")
# Uniformiamo i nomi delle colonne per SERRA24
Serra24 <- Serra24 %>%
select(
SESSO, ETA_ANNI, LB_CONOSCENZA, LB_ETA, LB_APERTURA, LB_TEMPO, LB_ORE_GIORNO, LB_ACQUISTO,
LB_SPESA, LB_VENDITA, LB_PROFITTI,
RLI_1, RLI_2, RLI_3, RLI_4, RLI_5,
VG_TOT_FREQ, VG_VERSTATILITA, VGS_TOT_PES, VGS_TOT_CAT
) %>%
mutate(PROV= 'SERRA')
# Uniformiamo i nomi delle colonne per PRIZE
PRIZE <- PRIZE %>%
filter(VG_DIC==1) %>%
select(
Sesso, ETA_ANNI_POST, LB_CONOSCENZA_DIC, LB_ETA, LB_APERTURA_DIC, LB_TEMPO_DIC, LB_ORE, LB_ACQUIS_DIC,
LB_ACQUISTO_SPESA, LB_VENDITA, LB_PROF_DIC,
RLI_1, RLI_2,RLI_3, RLI_4, RLI_5,
VG_FREQ_POST, VG_VERSATILITA, VGS_TOT_PES, VGS_CAT
) %>%
rename(
SESSO = Sesso,  # Rinominare in modo uniforme con Serra24
ETA_ANNI = ETA_ANNI_POST,
LB_CONOSCENZA = LB_CONOSCENZA_DIC,
LB_APERTURA = LB_APERTURA_DIC,
LB_TEMPO = LB_TEMPO_DIC,
LB_ORE_GIORNO = LB_ORE,
LB_ACQUISTO = LB_ACQUIS_DIC,
LB_SPESA = LB_ACQUISTO_SPESA,
LB_PROFITTI = LB_PROF_DIC,
VG_TOT_FREQ = VG_FREQ_POST,
VG_VERSTATILITA = VG_VERSATILITA,
VGS_TOT_CAT = VGS_CAT
) %>%
mutate(PROV= 'PRIZE')
# Uniformiamo i nomi delle colonne per PISTOIA
PISTOIA <- PISTOIA %>%
mutate(
RLI_1 = ifelse(RLI_1 >= 1, 1, 0),
RLI_2 = ifelse(RLI_2 >= 1, 1, 0),
RLI_3 = ifelse(RLI_3 >= 1, 1, 0),
RLI_4 = ifelse(RLI_4 >= 1, 1, 0),
RLI_5 = ifelse(RLI_5 >= 1, 1, 0)
) %>%
select(
Genere, Età_anni, LB_1, LB_Età, LB_2, LB_3, LB_ore, LB_4, LB_SOLDI, LB_5, LB_6,
RLI_1, RLI_2, RLI_3, RLI_4, RLI_5,
VG_FREQ, VERSATILITA_VG, GAS_DIC_TOT, GAS_CAT
) %>%
rename(
SESSO = Genere,   # Rinominare in modo uniforme con Serra24
ETA_ANNI = Età_anni,
LB_CONOSCENZA = LB_1,
LB_APERTURA = LB_2,
LB_TEMPO = LB_3,
LB_ORE_GIORNO = LB_ore,
LB_ACQUISTO = LB_4,
LB_SPESA = LB_SOLDI,
LB_VENDITA = LB_5,
LB_PROFITTI = LB_6,
VG_TOT_FREQ = VG_FREQ,
VG_VERSTATILITA = VERSATILITA_VG,
VGS_TOT_PES = GAS_DIC_TOT,
VGS_TOT_CAT = GAS_CAT
) %>%
mutate(PROV= 'PISTOIA')
# Ora possiamo combinare i tre data frame
data.tot <- bind_rows(Serra24, PRIZE, PISTOIA)
# Salviamo il file unito in formato Excel
library(writexl)
write_xlsx(data.tot, "DATIRLI_TOT.xlsx")
View(data.tot)
library(haven)
library(tidyverse)
# Carichiamo i file .sav
Serra24 <- read_sav("C:/Users/franc/OneDrive/Desktop/RLI_Svezia/Serra24_Superiori_1e2eGen_04.04.24.sav")
PRIZE <- read_sav("C:/Users/franc/OneDrive/Desktop/RLI_Svezia/PREPOSTFU_19_09.sav")
PISTOIA <- read_sav("C:/Users/franc/OneDrive/Desktop/RLI_Svezia/Pistoia_tech_31-01_Senza outlier.sav")
# Uniformiamo i nomi delle colonne per SERRA24
Serra24 <- Serra24 %>%
select(
SESSO, ETA_ANNI, LB_CONOSCENZA, LB_ETA, LB_APERTURA, LB_TEMPO, LB_ORE_GIORNO, LB_ACQUISTO,
LB_SPESA, LB_VENDITA, LB_PROFITTI,
RLI_1, RLI_2, RLI_3, RLI_4, RLI_5,
VG_TOT_FREQ, VG_VERSTATILITA, VGS_TOT_PES, VGS_TOT_CAT
) %>%
mutate(PROV= 'SERRA')
# Uniformiamo i nomi delle colonne per PRIZE
PRIZE <- PRIZE %>%
filter(VG_DIC==1) %>%
select(
Sesso, ETA_ANNI_POST, LB_CONOSCENZA_DIC, LB_ETA, LB_APERTURA_DIC, LB_TEMPO_DIC, LB_ORE, LB_ACQUIS_DIC,
LB_ACQUISTO_SPESA, LB_VENDITA, LB_PROF_DIC,
RLI_1, RLI_2,RLI_3, RLI_4, RLI_5,
VG_FREQ_POST, VG_VERSATILITA, VGS_TOT_PES, VGS_CAT
) %>%
rename(
SESSO = Sesso,  # Rinominare in modo uniforme con Serra24
ETA_ANNI = ETA_ANNI_POST,
LB_CONOSCENZA = LB_CONOSCENZA_DIC,
LB_APERTURA = LB_APERTURA_DIC,
LB_TEMPO = LB_TEMPO_DIC,
LB_ORE_GIORNO = LB_ORE,
LB_ACQUISTO = LB_ACQUIS_DIC,
LB_SPESA = LB_ACQUISTO_SPESA,
LB_PROFITTI = LB_PROF_DIC,
VG_TOT_FREQ = VG_FREQ_POST,
VG_VERSTATILITA = VG_VERSATILITA,
VGS_TOT_CAT = VGS_CAT
) %>%
mutate(PROV= 'PRIZE')
# Uniformiamo i nomi delle colonne per PISTOIA
PISTOIA <- PISTOIA %>%
mutate(
RLI_1 = ifelse(RLI_1 >= 1, 1, 0),
RLI_2 = ifelse(RLI_2 >= 1, 1, 0),
RLI_3 = ifelse(RLI_3 >= 1, 1, 0),
RLI_4 = ifelse(RLI_4 >= 1, 1, 0),
RLI_5 = ifelse(RLI_5 >= 1, 1, 0)
) %>%
select(
Genere, Età_anni, LB_1, LB_Età, LB_2, LB_3, LB_ore, LB_4, LB_SOLDI, LB_5, LB_6,
RLI_1, RLI_2, RLI_3, RLI_4, RLI_5,
VG_FREQ, VERSATILITA_VG, GAS_DIC_TOT, GAS_CAT
) %>%
rename(
SESSO = Genere,   # Rinominare in modo uniforme con Serra24
ETA_ANNI = Età_anni,
LB_CONOSCENZA = LB_1,
LB_ETA=LB_Età,
LB_APERTURA = LB_2,
LB_TEMPO = LB_3,
LB_ORE_GIORNO = LB_ore,
LB_ACQUISTO = LB_4,
LB_SPESA = LB_SOLDI,
LB_VENDITA = LB_5,
LB_PROFITTI = LB_6,
VG_TOT_FREQ = VG_FREQ,
VG_VERSTATILITA = VERSATILITA_VG,
VGS_TOT_PES = GAS_DIC_TOT,
VGS_TOT_CAT = GAS_CAT
) %>%
mutate(PROV= 'PISTOIA')
# Ora possiamo combinare i tre data frame
data.tot <- bind_rows(Serra24, PRIZE, PISTOIA)
# Salviamo il file unito in formato Excel
library(writexl)
write_xlsx(data.tot, "DATIRLI_TOT.xlsx")
write_xlsx(data.tot, "C:/Users/franc/OneDrive/Desktop/RLI_Svezia/DATIRLI_TOT.xlsx")
library(readxl)
DATIRLI_TOT <- read_excel("C:/Users/franc/OneDrive/Desktop/RLI_Svezia/DATIRLI_TOT.xlsx")
View(DATIRLI_TOT)
#--------------------ù
write_sav(DATIRLI_TOT, "C:/Users/franc/OneDrive/Desktop/RLI_Svezia/DATIRLI_TOT.sav")
data.rli<-DATIRLI_TOT %>%
filter(LB_USO_TOT>=1)
write_sav(data.rli, "C:/Users/franc/OneDrive/Desktop/RLI_Svezia/DATIRLI_TOT.sav")
bookdown::render_book("C:/Users/franc/OneDrive/Desktop/BookdownIRT/index.Rmd", "bookdown::gitbook")
library(bookdown)
setwd(C:/Users/franc/OneDrive/Desktop/BookdownIRT)
setwd("C:/Users/franc/OneDrive/Desktop/BookdownIRT")
library(bookdown)
?bookdown::publish_book
setwd("C:/Users/franc/OneDrive/Desktop/GuidaIRT")
library(bookdown)
setwd('C:\Users\franc\OneDrive\Desktop\GuidaIRT')
setwd('C:/Usersfranc/OneDrive/Desktop/GuidaIRT')
setwd('C:/Users/franc/OneDrive/Desktop/GuidaIRT')
bookdown::render_book("index.Rmd", "bookdown::gitbook")
bookdown::render_book("index.Rmd", "bookdown::gitbook")
bookdown::render_book("index.Rmd", "bookdown::gitbook")
